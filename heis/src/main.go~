package main

import ("fmt"
	"udp"
	"time"
)

func main(){
	udpListenChan:=make(chan string)
	udpBroadcastChan:=make(chan string)
	go udp.UDP_listen(udpListenChan)
	go udp.UDP_broadcast(udpBroadcastChan)
	for {
		count:="a"
		fmt.Println("sending message")
		udpBroadcastChan<-count
		time.Sleep(time.Second * 1)
		select{
		case msg:=<-udpListenChan:
			fmt.Println("received message",msg)
		default:
			fmt.Println("no message")
		}
		//if count>=10{
		//	count:=0
		//}
	}
}
